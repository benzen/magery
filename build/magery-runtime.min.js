var Magery=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{},id:n,loaded:false};t[n].call(i.exports,i,i.exports,r);i.loaded=true;return i.exports}r.m=t;r.c=e;r.p="";return r(0)}([function(t,e,r){var n=r(1).Patcher;e._template=function(t){var e=function(e,r,i){var o=new n(e);return t.call(this,o,r,i)};e._render=t;return e}},function(t,e,r){var n=r(2);var i=r(4);var o=r(3);var a=r(5);var s=1;var u=3;function f(t,e,r){return(t.tagName===e||t.nodeType===u&&e==="#text")&&t.key==r}function p(t,e,r,n){if(e&&f(e,r,n)){return e}if(n&&t.keymap){return t.keymap[n]||null}return null}function l(t,e,r){while(r){var n=r;r=r.nextSibling;t.removeChild(e,n)}}function h(t,e){var r=e.attributes;var n=[];var i,o;for(i=0,o=r.length;i<o;i++){var a=r[i];if(!e.visited_attributes.has(a.name)){n.push(a.name)}}for(i=0,o=n.length;i<o;i++){t.removeAttribute(e,n[i])}}function c(t,e){if(!e.bound_events){return}for(var r in e.bound_events){if(!e.visited_events.has(r)){t.removeEventListener(e,r,e.bound_events[r].fn);delete e.bound_events[r]}}}function v(t,e){this.transforms=e||n;this.root=t;this.reset()}e.Patcher=v;v.prototype.reset=function(){this.parent=this.root.parentNode;this.current=this.root};v.prototype.stepInto=function(t){if(t.visited_attributes){t.visited_attributes.clear()}else{t.visited_attributes=new a}if(t.visited_events){t.visited_events.clear()}else{t.visited_events=new a}this.parent=t;this.current=t.firstChild};v.prototype.enterTag=function(t,e){var r=p(this.parent,this.current,t,e);if(!r){r=this.transforms.insertElement(this.parent,this.current,t);if(e){if(!this.parent.keymap){this.parent.keymap={}}this.parent.keymap[e]=r;r.key=e}}else if(!this.current){this.transforms.appendChild(this.parent,r)}else if(r!==this.current){this.transforms.replaceChild(this.parent,r,this.current)}if(!this.template_root){this.template_root=r}this.stepInto(r)};v.prototype.EVENT={};function d(t,e){return function(r){var n=t.bound_events[e];if(n.path){var o=n.args.map(function(t){if(t===v.prototype.EVENT){return r}return t});var a=i.lookup(t.handlers,n.path);if(!a){throw new Error("on"+e+": no '"+n.path.join(".")+"' handler defined")}a.apply(n.template_root,o)}}}function m(t,e){if(!t.bound_events){t.bound_events={}}if(!t.bound_events.hasOwnProperty(e)){var r=d(t,e);t.bound_events[e]={fn:r};n.addEventListener(t,e,r)}t.visited_events.add(e)}v.prototype.eventListener=function(t,e,r,n){var i=this.parent;if(i.handlers!==n){i.handlers=n}m(i,t);var o=i.bound_events[t];o.path=e;o.args=r;o.template_root=this.template_root};v.prototype.attribute=function(t,e){var r=this.parent;if(r.getAttribute(t)!==e){this.transforms.setAttribute(r,t,e)}r.visited_attributes.add(t)};v.prototype.text=function(t){var e=p(this.parent,this.current,"#text",null);if(!e){e=this.transforms.insertTextNode(this.parent,this.current,t)}else if(e.textContent!==t){this.transforms.replaceText(e,t)}this.current=e.nextSibling};function b(t,e){return t.bound_events&&t.bound_events[e]&&t.bound_events[e].fn}v.prototype.exitTag=function(){l(this.transforms,this.parent,this.current);var t=this.parent;this.parent=t.parentNode;this.current=t.nextSibling;h(this.transforms,t);c(this.transforms,t)};v.prototype.skip=function(t,e){var r=p(this.parent,this.current,t,e);if(!this.current){this.transforms.appendChild(this.parent,r)}else if(r!==this.current){this.transforms.replaceChild(this.parent,r,this.current)}this.current=r.nextSibling};v.prototype.lookup=i.lookup;v.prototype.isTruthy=function(t){if(Array.isArray(t)){return t.length>0}return t};v.prototype.each=function(t,e,r,n){for(var o=0,a=r.length;o<a;o++){var s=i.shallowClone(t);s[e]=r[o];n(s)}};v.prototype.render=function(t,e,r,n,i,o,a){if(!t[e]){this.enterTag(e.toUpperCase(),null);this.exitTag();return}var s=t[e];if(s._render){var u=this.template_root;this.template_root=null;s._render.call(t,this,r,n,i,o,a);this.template_root=u}else{this.enterTag(e.toUpperCase(),null);s(this.parent,r,n,a);this.exitTag()}};v.prototype.wrapChildren=function(t){var e=this;return function(r){if(r){var n=new v(r);n.parent=r;n.current=r.firstChild;t(n)}else{t(e)}}}},function(t,e,r){var n=r(3);e.insertTextNode=function(t,e,r){var n=document.createTextNode(r);t.insertBefore(n,e);return n};e.replaceText=function(t,e){t.textContent=e;return t};e.replaceChild=function(t,e,r){t.replaceChild(e,r);return e};e.appendChild=function(t,e){t.appendChild(e);return e};e.insertElement=function(t,e,r){var n=document.createElement(r);t.insertBefore(n,e);return n};e.removeChild=function(t,e){t.removeChild(e);return e};e.setAttribute=function(t,e,r){if(n.attributes[e]&n.USE_PROPERTY){t[e]=r}t.setAttribute(e,r);return t};e.removeAttribute=function(t,e){if(n.attributes[e]&n.USE_PROPERTY){t[e]=false}t.removeAttribute(e);return t};e.addEventListener=function(t,e,r){t.addEventListener(e,r,false);return t};e.removeEventListener=function(t,e,r){t.removeEventListener(e,r);return t}},function(t,e){var r=e.BOOLEAN_ATTRIBUTE=1;var n=e.USE_PROPERTY=2;var i=e.USE_STRING=4;e.attributes={allowfullscreen:r,async:r,autofocus:r,autoplay:r,capture:r,checked:r|n,controls:r,default:r,defer:r,disabled:r,formnovalidate:r,hidden:r,itemscope:r,loop:r,multiple:r|n,muted:r|n,novalidate:r,open:r,readonly:r,required:r,reversed:r,selected:r|n,value:n|i}},function(t,e){var r=1;var n=3;var i=11;e.isDocumentFragment=function(t){return t.nodeType===i};e.isElementNode=function(t){return t.nodeType===r};e.isTextNode=function(t){return t.nodeType===n};e.eachNode=function(t,e){var r=0;var n=t[0];while(n){var i=n;n=n.nextSibling;e(i,r++,t)}};e.mapNodes=function(t,r){var n=[];e.eachNode(t,function(e,i){n[i]=r(e,i,t)});return n};e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};e.propertyPath=function(t){return t.split(".").filter(function(t){return t})};e.lookup=function(t,e){var r=t;for(var n=0,i=e.length;n<i;n++){if(r===undefined||r===null){return""}r=r[e[n]]}return r===undefined||r===null?"":r};e.templateTagName=function(t){var e=/^TEMPLATE-([^\s/>]+)/.exec(t.tagName);return e&&e[1].toLowerCase()};e.shallowClone=function(t){var e={};for(var r in t){e[r]=t[r]}return e};e.eachAttribute=function(t,e){var r=t.attributes;for(var n=0,i=t.attributes.length;n<i;n++){e(t.attributes[n].name,t.attributes[n].value)}}},function(t,e){if(typeof Set==="undefined"){function r(){this.values=[]}r.prototype.add=function(t){this.values.push(t)};r.prototype.has=function(t){return this.values.indexOf(t)!==-1};r.prototype.clear=function(){this.values=[]};t.exports=r}else{t.exports=Set}}]);